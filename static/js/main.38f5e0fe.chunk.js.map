{"version":3,"sources":["assets/all.svg","assets/coupon.svg","assets/promo.svg","assets/sample.svg","services/api.js","pages/main/index.js","components/tabs/index.js","components/Header/index.js","App.js","index.js"],"names":["module","exports","__webpack_require__","p","api","axios","create","baseURL","Main","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","loadProducts","asyncToGenerator","regenerator_default","a","mark","_callee","page","_args","arguments","wrap","_context","prev","next","length","undefined","setState","loading","get","concat","then","res","_res$data","data","docs","productInfo","objectWithoutProperties","products","state","listInfo","requestError","err","stop","nextPage","_this$state","pages","currentPage","setOpnStaus","item","arr","openedItems","indexOf","splice","push","setCopiedState","index","copied","setTimeout","_this2","_this$state2","react_default","createElement","className","onClick","map","product","key","lib","text","title","onCopy","Component","Tabs","tabs","getComponents","id","name","img","require","tab","style","backgroundImage","Header","App","components_Header","tabs_Tabs","main_Main","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.38f5e0fe.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/all.b8e77c46.svg\";","module.exports = __webpack_public_path__ + \"static/media/coupon.466f9353.svg\";","module.exports = __webpack_public_path__ + \"static/media/promo.a98c7ea1.svg\";","module.exports = __webpack_public_path__ + \"static/media/sample.4ead08e6.svg\";","import axios from \"axios\";\r\n\r\nconst api = axios.create({\r\n  baseURL: \"https://rocketseat-node.herokuapp.com/api\"\r\n});\r\n\r\nexport default api;\r\n","import React, { Component } from \"react\";\r\nimport api from \"../../services/api\";\r\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\r\nimport \"./styles.css\";\r\n\r\nexport default class Main extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      products: [],\r\n      listInfo: {},\r\n      openedItems: [],\r\n      page: 1,\r\n      copied: '',\r\n      loading: false,\r\n      requestError: false\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.loadProducts();\r\n  }\r\n\r\n  loadProducts = async (page = 1) => {\r\n    this.setState({ loading: true });\r\n    await api.get(`/products?page=${page}`).then(\r\n      res => {\r\n        const { docs, ...productInfo } = res.data;\r\n        let { products } = this.state;\r\n        products = products.concat(docs);\r\n        this.setState({\r\n          products,\r\n          listInfo: productInfo,\r\n          page,\r\n          loading: false,\r\n          requestError: false\r\n        });\r\n      },\r\n      err => {\r\n        this.setState({ loading: false, requestError: true });\r\n      }\r\n    );\r\n  };\r\n\r\n  nextPage = () => {\r\n    const { page, listInfo } = this.state;\r\n    if (page === listInfo.pages) return;\r\n    const currentPage = page + 1;\r\n    this.loadProducts(currentPage);\r\n  };\r\n\r\n  setOpnStaus = item => {\r\n    const arr = this.state.openedItems;\r\n    if (arr.indexOf(item) > -1) {\r\n      arr.splice(arr.indexOf(item), 1);\r\n      this.setState({ openedItems: arr });\r\n    } else {\r\n      arr.push(item);\r\n      this.setState({ openedItems: arr });\r\n    }\r\n  };\r\n\r\n  setCopiedState = (index) => {\r\n    this.setState({ copied: index });\r\n    setTimeout(() => {\r\n      this.setState({ copied: '' });\r\n    }, 300);\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      products,\r\n      loading,\r\n      page,\r\n      listInfo,\r\n      requestError,\r\n      openedItems\r\n    } = this.state;\r\n    return (\r\n      <div>\r\n        {requestError && (\r\n          <div className=\"request-error\">\r\n            <h1>Sem conexão à internet</h1>\r\n            <p>\r\n              Verifique se você está conectado à internet e,\r\n              <br />\r\n              após se conectar, toque no botão a seguir\r\n            </p>\r\n            <button onClick={this.loadProducts}>Recarregar</button>\r\n          </div>\r\n        )}\r\n        {!requestError && (\r\n          <div className=\"product-list\">\r\n            {products.map((product, index) => (\r\n              <article key={index} className={openedItems.indexOf(index) > -1 ? \"opened\" : \"closed\"}>\r\n                <div className=\"product-content\" onClick={() => this.setOpnStaus(index)} >\r\n                  <div className=\"product-img\" />\r\n                  <div className=\"product-data\">\r\n                    <strong>Samsung Galaxy S9</strong>\r\n                    <p>vendido por Americanas</p>\r\n                    <p>\r\n                      de R$1300 por <strong>R$1100</strong>\r\n                    </p>\r\n                  </div>\r\n                  <div className=\"product-type\">\r\n                    <div className=\"type-icon\" />\r\n                    <p>cupom</p>\r\n                  </div>\r\n                </div>\r\n                {openedItems.indexOf(index) > -1 && (\r\n                  <div className=\"product-more-info\">\r\n                    <div className=\"coupon-container\">\r\n                      <CopyToClipboard\r\n                        text={product.title}\r\n                        onCopy={() => this.setCopiedState(index)}\r\n                      >\r\n                        <span className=\"coupon\">DESCONTO20</span>\r\n                      </CopyToClipboard>\r\n                      <div className=\"tips\">\r\n                        <div className=\"touch-icon\" />\r\n                        <p>Toque no cupom para copiar</p>\r\n                      </div>\r\n                    </div>\r\n                    {this.state.copied === index ? (\r\n                      <p className=\"copy-toast\">copiado</p>\r\n                    ) : null}\r\n                    <button className=\"btn-url\">acessar</button>\r\n                  </div>\r\n                )}\r\n              </article>\r\n            ))}\r\n            <div className=\"navigation\">\r\n              {loading && <div className=\"loading-image\" />}\r\n              {!loading && page !== listInfo.pages && (\r\n                <button onClick={this.nextPage}>Carregar mais promoções</button>\r\n              )}\r\n              {!loading && page === listInfo.pages && (\r\n                <p>Não há mais promoções</p>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport \"./styles.css\";\r\n\r\nexport default class Tabs extends Component {\r\n  state = {\r\n    tabs: []\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.getComponents();\r\n  }\r\n\r\n  getComponents = () => {\r\n    const tabs = [\r\n      { id: \"1\", name: \"todos\", img: require(\"../../assets/all.svg\") },\r\n      { id: \"4\", name: \"cupons\", img: require(\"../../assets/coupon.svg\") },\r\n      { id: \"2\", name: \"promoções\", img: require(\"../../assets/promo.svg\") },\r\n      { id: \"3\", name: \"amostras\", img: require(\"../../assets/sample.svg\") }\r\n    ];\r\n    this.setState({ tabs });\r\n  };\r\n\r\n  render() {\r\n    const { tabs } = this.state;\r\n    return (\r\n      <div className=\"tabs-container\">\r\n        {tabs.map(tab => (\r\n          <div className=\"tab-item\" key={tab.id}>\r\n            <div\r\n              className=\"item-img\"\r\n              style={{ backgroundImage: \"url(\" + tab.img + \")\" }}\r\n            />\r\n            <p>{tab.name}</p>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport \"./styles.css\";\r\n\r\nconst Header = () => (\r\n  <div className=\"header-container\">\r\n    <div className=\"logo\" />\r\n    <div className=\"name\">\r\n      <p>Paylicano</p>\r\n      <div className=\"instagram-checked\" />\r\n    </div>\r\n    <p>cupons, promoções e amostras grátis</p>\r\n  </div>\r\n);\r\nexport default Header;\r\n","import React from \"react\";\nimport Main from \"./pages/main\";\nimport \"./styles.css\";\nimport Tabs from \"./components/tabs\";\nimport Header from \"./components/Header\";\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Header />\n      <Tabs />\n      <Main />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render( < App / > , document.getElementById('root'));"],"sourceRoot":""}